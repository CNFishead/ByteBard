version: "3.9"
services:
  bot:
    build: .
    environment:
      - DISCORD_BOT_TOKEN=${DISCORD_BOT_TOKEN}
      - RANDOM_ORG_API_KEY=${RANDOM_ORG_API_KEY}
      - ConnectionStrings__DefaultConnection=Server=${PG_HOST};Port=${PG_PORT};Username=${PG_USER};Password=${SUPABASE_DB_PW};Database=${PG_NAME}


    # depends_on:
      # - db
    restart: unless-stopped
  # db:
  #   image: postgres
  #   restart: always
  #   environment:
  #     POSTGRES_DB: botdb
  #     POSTGRES_USER: postgres
  #     POSTGRES_PASSWORD: postgres
  #   volumes:
  #     - pgdata:/var/lib/postgresql/data
  #   ports:
  #     - "5432:5432"

volumes:
  pgdata:
